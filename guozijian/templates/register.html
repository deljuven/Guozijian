{% extends "base.html" %}
{% import "bootstrap/utils.html" as utils %}
{% from "utils.html" import flash_message, render_field %}

{% block title %}国子监-注册{% endblock %}

{% block navbar %}
<nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index">国子监</a>
    </div>
    <ul class="nav navbar-top-links navbar-right">
        <li>
            <a href="login"><i class="fa fa-sign-in fa-fw"></i> Login</a>
        </li>
    </ul>
</nav>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="login-panel panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Please Register</h3>
                </div>
                {{ flash_message() }}
                <div class="panel-body">
                    <form role="form" method="post" action="{{ url_for('register') }}">
                        <fieldset>
                            {{ render_field(form.username) }}
                            <div class="form-group">
                                {{ form.username(class_="form-control", placeholder="User Name", autofocus=true,
                                required=true) }}
                            </div>
                            {{ render_field(form.email) }}
                            <div class="form-group">
                                {{ form.email(class_="form-control", placeholder="Email Address", autofocus=true,
                                required=true) }}
                            </div>
                            {{ render_field(form.passwd) }}
                            <div class="form-group">
                                {{ form.passwd(class_="form-control", required=true) }}
                            </div>
                            {{ render_field(form.confirm) }}
                            <div class="form-group">
                                {{ form.confirm(class_="form-control", required=true) }}
                            </div>
                            <div class="checkbox">
                                <label>
                                    {{ form.accept_tos }}
                                    {{ form.accept_tos.label.text }}
                                    {% if form.accept_tos.errors %}
                                    {% for error in form.accept_tos.errors %}
                                    <span style="color:#e50312;"><strong><em>{{ error }}</em></strong></span>{% endfor
                                    %}
                                    {% endif %}
                                </label>
                            </div>
                            <!-- Change this to a button or input when using this as a form -->
                            <input type="submit" class="btn btn-lg btn-success btn-block" value="Register"/>
                            {{ form.csrf_token }}
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
